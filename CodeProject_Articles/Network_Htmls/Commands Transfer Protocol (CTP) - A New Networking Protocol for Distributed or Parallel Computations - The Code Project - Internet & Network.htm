<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0043)http://www.codeproject.com/internet/ctp.asp -->
<HTML><HEAD><TITLE>Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet & Network</TITLE>
<META http-equiv=Reply-to content=mailto:webmaster@codeproject.com>
<META http-equiv=Content-Type content="text/html; charset=ISO-8859-1">
<META content=en-US name=MS.LOCALE>
<META 
content="In this article, an improved version of a new networking protocol for distributed or parallel computations is presented. In common, it is suitable just for fast, reliable and featureful interchange of small messages. The protocol's implementation and demo project are provided." 
name=Description>
<META content=kbArticle name=Search.TopicType>
<META content=dum name=Author>
<META content="18 Apr 2004 14:00:00 GMT" name=Search.PublishDate>
<META content="02 Feb 2005 14:00:00 GMT" name=Search.RevisedDate>
<META 
content="Free source code, , Visual C++, MFC, Windows, Network, Protocol, Cluster, TCP/IP, UDP, Socket" 
name=keywords>
<META 
content="Article content copyright dum, 2004, everthing else Copyright © CodeProject, 1999-2007, All Rights Reserved." 
name=Copyright><LINK title="CodeProject Lounge Postings" 
href="http://www.codeproject.com/webservices/LoungeRSS.aspx" 
type=application/rss+xml rel=alternate><LINK 
title="CodeProject Latest articles - All topics" 
href="http://www.codeproject.com/webservices/articlerss.aspx?cat=1" 
type=application/rss+xml rel=alternate><LINK 
title="CodeProject Latest articles - MFC / C++" 
href="http://www.codeproject.com/webservices/articlerss.aspx?cat=2" 
type=application/rss+xml rel=alternate><LINK 
title="CodeProject Latest articles - C#" 
href="http://www.codeproject.com/webservices/articlerss.aspx?cat=3" 
type=application/rss+xml rel=alternate><LINK 
title="CodeProject Latest articles - ASP.NET" 
href="http://www.codeproject.com/webservices/articlerss.aspx?cat=4" 
type=application/rss+xml rel=alternate><LINK 
title="CodeProject Latest articles - .NET" 
href="http://www.codeproject.com/webservices/articlerss.aspx?cat=5" 
type=application/rss+xml rel=alternate><LINK 
title="CodeProject Latest articles - VB.NET" 
href="http://www.codeproject.com/webservices/articlerss.aspx?cat=6" 
type=application/rss+xml rel=alternate><LINK title="The Code Project" 
href="http://www.codeproject.com/info/OpenSearch.xml" 
type=application/opensearchdescription+xml rel=search><LINK href="/favicon.ico" 
type=image/ico rel=icon><LINK href="/favicon.ico" rel="SHORTCUT ICON"><LINK 
href="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/global.css" 
type=text/css rel=stylesheet>
<SCRIPT language=javascript 
src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/oncopy.js"></SCRIPT>

<SCRIPT language=javascript>
if (top != self) top.location.href = location.href;
if (typeof(DemoUrl) != "undefined")
	document.write('<me' + 'ta http' + '-equiv="re' + 'fresh" con' + 'tent="1;url=' + DemoUrl + '">');
</SCRIPT>

<META content="MSHTML 6.00.2900.2180" name=GENERATOR></HEAD>
<BODY style="MARGIN: 0px" oncopy="return copyCode();" text=black vLink=navy 
aLink=red link=blue bgColor=white>
<SCRIPT 
src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/urchin.js" 
type=text/javascript>
</SCRIPT>

<SCRIPT type=text/javascript>
_uacct = "UA-1735123-1";
urchinTracker();
</SCRIPT>

<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD class=HeaderLogo><A href="http://www.codeproject.com/"><IMG height=90 
      alt=Home 
      src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/codeproject225x90.gif" 
      border=0></A></TD>
    <TD class=HeaderBanner><SPAN id=AdBanner4>
      <SCRIPT language=javascript>document.write("<a href=\"/script/admentor/admentorredir.asp?id=2731&way=ban\" target=_blank><img src=\"/script/ann/ServeImg.aspx?File=%2Fscript%2Fadmentor%2Fimages%2FKinook%5FBuildEasyBlack6%5F728x90%2Egif&C=False&id=2731&cb=6575799\" alt=\"Download Visual Build - Automate your software builds\" border=0 width=728 height=90></a>");</SCRIPT>
      </SPAN></TD></TR>
  <TR>
    <TD colSpan=2>
      <TABLE class=MemberNavBar cellSpacing=0 cellPadding=5 width="100%" 
      border=0>
        <TBODY>
        <TR vAlign=center>
          <TD class=smallText style="FONT-WEIGHT: bold">4,371,495 members and 
            growing! &nbsp; 9,031 now online. </TD>
          <TD class=userNavText align=right><A 
            href="http://www.codeproject.com/script/profile/whos_who.asp?id=2959938">abdelrady2030 
            </A>| <A 
            href="http://www.codeproject.com/script/profile/modify.asp?ct=/internet/ctp.asp"><B>My 
            Settings</B></A> | <A 
            href="http://www.codeproject.com/script/profile/bookmark_list.asp">My 
            Bookmarks</A> | <A 
            href="http://www.codeproject.com/script/articles/list_articles.asp?userid=2959938">My 
            Articles</A> | <A 
            href="http://www.codeproject.com/script/profile/logoff.asp?ct=/internet/ctp.asp">Sign 
            out</A> </TD></TR></TBODY></TABLE></TD></TR>
  <TR>
    <TD colSpan=2>
      <TABLE class=SiteNavBar id=tblSiteToolbar cellSpacing=0 cellPadding=0>
        <TBODY>
        <TR>
          <TD><A href="http://www.codeproject.com/">Home</A></TD>
          <TD noWrap><A 
            href="http://www.codeproject.com/index.asp?cat=2">MFC/C++</A></TD>
          <TD><A href="http://www.codeproject.com/index.asp?cat=3">C#</A></TD>
          <TD noWrap><A 
            href="http://www.codeproject.com/index.asp?cat=4">ASP.NET</A></TD>
          <TD noWrap><A 
            href="http://www.codeproject.com/index.asp?cat=6">VB.NET</A></TD>
          <TD noWrap><A 
            href="http://www.codeproject.com/index.asp?cat=8">Architect</A></TD>
          <TD noWrap><A 
            href="http://www.codeproject.com/index.asp?cat=9">SQL</A></TD>
          <TD class=SelCat noWrap><A 
            href="http://www.codeproject.com/index.asp?cat=1">All Topics</A></TD>
          <TD width="100%">&nbsp;</TD>
          <TD>
            <DIV id=MenuPos 
            style="WIDTH: 300px; POSITION: relative; TOP: 1px; HEIGHT: 22px">
            <TABLE id=MPH 
            style="BORDER-TOP-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; HEIGHT: 20px; BORDER-RIGHT-WIDTH: 0px" 
            cellSpacing=0 cellPadding=0 width=300>
              <TBODY>
              <TR vAlign=center>
                <TD 
                style="BORDER-TOP-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px" 
                noWrap><A 
                  href="http://www.codeproject.com/info/faq.asp">Help!</A></TD>
                <TD 
                style="BORDER-TOP-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px" 
                noWrap><A 
                  href="http://www.codeproject.com/info/latest.asp">Articles</A></TD>
                <TD 
                style="BORDER-TOP-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px" 
                noWrap><A 
                  href="http://www.codeproject.com/script/comments/forums.asp">Message 
                  Boards</A></TD>
                <TD 
                style="BORDER-TOP-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px" 
                noWrap><A 
                  href="http://www.codeproject.com/lounge.asp">Lounge</A></TD></TR></TBODY></TABLE></DIV></TD></TR></TBODY></TABLE>
      <SCRIPT type=text/javascript>function Go(){return}</SCRIPT>

      <SCRIPT 
      src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/cpmenu_var.js" 
      type=text/javascript></SCRIPT>

      <SCRIPT 
      src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/menu10_com.js" 
      type=text/javascript></SCRIPT>

      <SCRIPT type=text/javascript>
var MPH = document.getElementById("MPH");
if (MPH) MPH.style.display='none';
</SCRIPT>
    </TD></TR>
  <TR>
    <TD colSpan=2>
      <TABLE class=ArticleHeader cellSpacing=0 cellPadding=3 width="100%">
        <TBODY>
        <TR vAlign=top>
          <TD class=smallText style="PADDING-RIGHT: 10px"><A 
            href="http://www.codeproject.com/?cat=1">All Topics</A>, <A 
            href="http://www.codeproject.com/?cat=2">MFC/C++</A> &gt;&gt; <A 
            href="http://www.codeproject.com/internet/">Internet &amp; 
            Network</A> &gt;&gt; <A 
            href="http://www.codeproject.com/internet/#General">General</A><BR><BR>
            <DIV style="FONT-WEIGHT: bold; FONT-SIZE: 16pt">Commands Transfer 
            Protocol (CTP) - A New Networking Protocol for Distributed or 
            Parallel Computations</DIV><B>By <A 
            href="http://www.codeproject.com/script/Articles/list_articles.asp?userid=36650">dum</A></B>. 
            <BR><BR>
            <DIV style="FONT-SIZE: 12px">In this article, an improved version of 
            a new networking protocol for distributed or parallel computations 
            is presented. In common, it is suitable just for fast, reliable and 
            featureful interchange of small messages. The protocol's 
            implementation and demo project are provided.</DIV></TD>
          <TD class=smallText style="WIDTH: 200px">C++ (VC6)<BR>Windows 
            (WinXP, Win2K, Win2003, Win95, Win98, WinME)<BR>MFC, STL, Win32, VS 
            (VS6)<BR>Dev<BR><SPAN style="PADDING-RIGHT: 2ex">Posted</SPAN>: 
            <B>19 Apr 2004</B><BR><SPAN 
            style="PADDING-RIGHT: 0.3ex">Updated</SPAN>: <B>3 Feb 2005 
            </B><BR><SPAN style="PADDING-RIGHT: 3ex">Views</SPAN>: <B>56,912</B> 
          </TD></TR></TD></TR></TD></TR></TBODY></TABLE>
      <TABLE cellSpacing=0 cellPadding=0 border=0>
        <TBODY>
        <TR vAlign=top>
          <TD class=LHNavBar rowSpan=2><!-- Yes, there are IE hacks that will allow us to create a min-width DIV 
	     (eg http://www.webreference.com/programming/min-width/) but I couldn't
	     be arsed. Wait for it in v2.0 -->
            <DIV class=FeatureBlockHeader>Announcements</DIV>
            <DIV class="FeatureBlockContent RHFeatureBar">
            <DIV style="PADDING-TOP: 5px"><IMG 
            style="PADDING-RIGHT: 10px; FLOAT: left; MARGIN-LEFT: 5px; MARGIN-RIGHT: 10px" 
            height=20 alt=Comp 
            src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/prize_winner_sm.gif" 
            width=10><A 
            href="http://www.codeproject.com/script/competitions/monthly/">Monthly 
            Competition</A></DIV></DIV>
            <CENTER>
            <SCRIPT language=javascript>document.write("<a href=\"/script/admentor/admentorredir.asp?id=3918&way=ban\" target=_blank><img src=\"/script/ann/ServeImg.aspx?File=%2Fscript%2Fadmentor%2Fimages%2Fxoreax%5F808%5Ftower%5F160x600%2Egif&C=False&id=3918&cb=6575805\" alt=\"Xoreax cuts VS build times by up to 90%\" border=0 width=160 height=600></a>");</SCRIPT>
            </CENTER><BR><BR><IMG height=1 
            src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/t.gif" 
            width=160> </TD>
          <TD width="100%">
            <TABLE class=SearchHeaderBar cellSpacing=0 width="100%">
              <TBODY>
              <TR>
                <TD vAlign=center noWrap align=right width="60%">
                  <FORM style="MARGIN: 0px" name=Search action=/info/search.asp 
                  method=post><B>Search &nbsp;</B><INPUT class=smallText 
                  style="WIDTH: 200px" name=target> <SELECT 
                  style="FONT-WEIGHT: bold; FONT-SIZE: 8pt" name=st> <OPTION 
                    value=kw selected>Articles</OPTION> <OPTION 
                    value=au>Authors</OPTION></SELECT> <INPUT style="FONT-WEIGHT: bold; FONT-SIZE: 8pt" type=submit value=" Go! "> 
                  &nbsp; </FORM></TD>
                <TD class=tinyText noWrap><A 
                  href="http://www.codeproject.com/info/search.asp">Advanced 
                  Search</A><BR><A 
                  href="http://www.codeproject.com/script/articles/sections.asp">Sitemap</A> 
                </TD></TR></TBODY></TABLE>
            <TABLE width="100%">
              <TBODY>
              <TR vAlign=top>
                <TD class=SmallText noWrap>
                  <TABLE>
                    <TBODY>
                    <TR>
                      <TD class=smallText noWrap><IMG 
                        src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/print.gif" 
                        align=absMiddle> <A 
                        href="http://www.codeproject.com/internet/ctp.asp?print=true" 
                        target=_print>Print</A></TD>
                      <TD class=smallText noWrap><IMG 
                        src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/sitebuild_icon.gif" 
                        align=absMiddle><A 
                        href="http://www.codeproject.com/script/submit/ReportProblem.asp?GUID=ctp%2Finternet4%2F19%2F2004">Broken 
                        Article?</A></TD>
                      <TD class=smallText noWrap><IMG 
                        src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/link.gif" 
                        align=absMiddle><A 
                        href="http://www.codeproject.com/script/profile/add_bookmark.asp?t=0&amp;ct=%2Finternet%2Fctp%2Easp&amp;guid=ctp%2Finternet4%2F19%2F2004">Bookmark</A></TD>
                      <TD class=smallText noWrap><IMG 
                        src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/mail_small.gif" 
                        align=absMiddle> <A 
                        href="http://www.codeproject.com/internet/ctp.asp#__comments">Discuss</A></TD>
                      <TD class=smallText noWrap><IMG 
                        src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/mail.gif" 
                        align=absMiddle> <A 
                        href="http://www.codeproject.com/script/recommend/form.asp?guid=ctp%2Finternet4%2F19%2F2004">Send 
                        to a friend</A></TD></TR></TBODY></TABLE></TD>
                <TD noWrap align=right><A name=__top></A>
                  <TABLE>
                    <TBODY>
                    <TR>
                      <TD class=smallText align=right>28 votes for this 
                        article.</TD>
                      <TD>
                        <TABLE cellSpacing=0 cellPadding=0 border=2>
                          <TBODY>
                          <TR>
                            <TD><IMG height=5 
                              src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/red.gif" 
                              width=20 border=0></TD>
                            <TD><IMG height=5 
                              src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/red.gif" 
                              width=20 border=0></TD>
                            <TD><IMG height=5 
                              src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/red.gif" 
                              width=20 border=0></TD>
                            <TD><IMG height=5 
                              src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/red.gif" 
                              width=20 border=0></TD>
                            <TD><IMG height=5 
                              src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/red.gif" 
                              width=11 border=0><IMG height=5 
                              src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/white.gif" 
                              width=9 border=0></TD></TR></TBODY></TABLE></TD></TR>
                    <TR>
                      <TD class=smallText align=right colSpan=2><A 
                        title="Calculated as rating x Log10(# votes)" 
                        href="http://www.codeproject.com/script/articles/top_articles.asp?st=2">Popularity: 
                        6.61</A>. Rating: <B>4.57</B> out of 
                  5.</TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
        <TR>
          <TD class=ArticlePane><SPAN id=intelliTXT>
            <DIV id=contentdiv><!-- Article Starts -->
            <UL class=download>
              <LI><A 
              href="http://www.codeproject.com/internet/ctp/CTP.zip">Download 
              CTP implementation - 14.6 Kb</A> 
              <LI><A 
              href="http://www.codeproject.com/internet/ctp/CTPTCPUDP.zip">Download 
              CTP, TCP and UDP implementations - 23.8 Kb</A> 
              <LI><A 
              href="http://www.codeproject.com/internet/ctp/CTPDemo_src.zip">Download 
              demo project sources - 45 Kb</A> 
              <LI><A 
              href="http://www.codeproject.com/internet/ctp/CTPDemo_exe.zip">Download 
              demo project executable - 149 Kb</A> </LI></UL>
            <P align=right><I>CTP - sequence matters</I></P>
            <P align=right><A href="http://camel.ifmo.ru/" target=_blank>Visit 
            project's home site</A>.</P>
            <H2>Introduction</H2>
            <P>First of all, what is meant here as "computational cluster". 
            Cluster is a union of workstations, which is formed for some 
            definite purposes. Computational cluster is a cluster, which is 
            built for heavy computations. It is a specific system that asserts 
            special requirements for network functionality. Main properties of 
            the networking mechanism for a good quality cluster are:</P>
            <OL>
              <LI>Fast data interchange. 
              <LI>Reliable data transfer. 
              <LI>Broadcasting support. As usual, all workstations inside some 
              net take part in the computational experiment, so broadcasting 
              makes controlling much easier. 
              <LI>Huge data blocks interchange support. Sometimes, for example, 
              initial conditions of experiment can be represented by such a 
              block. 
              <LI>Peer-to-peer networking. Any workstation can be the data 
              source and the data destination, so they all are clients and 
              servers simultaneously. </LI></OL>
            <P>In fact, majority of parallel computing software toolkits are 
            represented as libraries, which use standard networking protocol 
            TCP/IP [<A 
            href="http://www.codeproject.com/internet/ctp.asp#ref1">1</A>]. 
            There are a lot of disadvantages of using this protocol:</P>
            <UL>
              <LI>Low speed of data interchange. The "reliability" and 
              "universality" of TCP has a lot of overhead charges. This protocol 
              is a general-purpose one, so it is suitable for working in such 
              unstable matter as Internet, but in a constant (or quite constant) 
              system, which was developed for computations, it is possible to 
              get more benefits. 
              <LI>TCP does not support broadcasting. UDP does, but it is not 
              reliable and the size of UDP datagram is limited by 65467 bytes 
              [<A 
              href="http://www.codeproject.com/internet/ctp.asp#ref1">1</A>]. 
              <LI>Ideology of logical channel creation before data interchange 
              is redundant for cluster computations. Firstly because cluster, as 
              usual, is a well tuned, good working net. Secondly because, some 
              strategies of cluster computing lead to disordered interchange 
              between workstations. 
              <LI>TCP is a stream-based protocol, but, for determined tasks, 
              bounded blocks interchange is preferable, because it allows to say 
              definitely, when all data, necessary for further operations, have 
              arrived. </LI></UL>
            <P>Of course, a specialized networking protocol can be adapted for 
            special requirements, which arise for cluster computations. So, CTP 
            is a protocol that is to satisfy needs of arbitrary tasks, which, 
            need support of rapid messages interchange and which, can start 
            heavy computations,s as a reaction for message receipt. Despite the 
            fact that the letter "P" from its name means "protocol", it is not 
            just a specification. CTP is an ideology and toolkit, which allows 
            to use it. So, it is able to replace such products as MPI 
            implementations, PVM, and so on.</P>
            <H2>Ideology</H2>
            <P>The majority of existing toolkits for parallel computations use, 
            the so named "message", as a basic abstraction. The basic 
            abstraction used in CTP is "command". Command is an order from 
            somebody to someone to do something (in most cases, workstations in 
            clusters are communicating exactly in this way) or the response for 
            such an order. From the last sentence, it is possible to conclude 
            that a command is characterized by the following parameters:</P>
            <UL>
              <LI>"somebody" - sender. 
              <LI>"someone" - recipient. 
              <LI>"something" - command's description. </LI></UL>
            <P>So, first of all, it is needed to define the sender and the 
            recipient somehow. For this purpose, IP addresses will be used. The 
            reason is that IP is used extremely widely and it fully satisfies 
            the requirements (gives unique identifiers to all workstations). 
            Commands will be identified by integer numbers.</P>
            <P>In terms of the discussed protocol words, "command" and "message" 
            are, actually, synonyms. "Command" is "message", but not always vice 
            versa.</P>
            <P>CTP needs to satisfy the cluster networking requirements, listed 
            above. The way in which this will be achieved follows (in the same 
            order as in the introduction):</P>
            <OL>
              <LI>For incrementing the speed of interchange, UDP will be used as 
              the basis of the protocol. Moreover, the usage of UDP, without 
              going down to raw networking, will save the user in future from 
              additional problems with the protocol support toolkit's 
              installation. 
              <LI>Reliability of data interchange is to be implemented. Each 
              sent packet will be stored until the recipient has not confirmed 
              the receipt of the data. To maintain this mechanism, packets are 
              to be provided with identifiers. Identification will be performed 
              by assigning integer numbers on the sender-side. These IDs cannot 
              be unique in general, but are to be unique for each sender. 
              <LI>Broadcasting support is one more argument to use UDP as the 
              basic protocol. 
              <LI>Huge data interchange support is to be implemented. If a 
              message that is greater than some limit (65400 bytes, by default) 
              is going to be sent, then it is to be divided into smaller parts. 
              These parts will be enumerated and sent to the recipient 
              separately, one by one. On the recipient's side, they will be 
              united to arrange the initial command. An important note is that 
              the recipient application will get information about the command's 
              arrival only after all its parts have been received. Such commands 
              will be named as "large commands", but on practice, the majority 
              of commands are "normal" (need a single packet for its transfer). 
              <LI>For peer-to-peer interchange, CTP's implementations are to 
              include both client and server functionality, as a solid unity. 
              </LI></OL>
            <P>CTP/IP's relationship with the OSI-model [<A 
            href="http://www.codeproject.com/internet/ctp.asp#ref2">2</A>] and 
            UDP/IP ideology is shown on fig. 1.</P>
            <P align=center><IMG height=224 
            alt="Fig. 1. Relationship between OSI-model, UDP/IP-model and CTP/IP-model" 
            src="Commands Transfer Protocol (CTP) - A New Networking Protocol for Distributed or Parallel Computations - The Code Project - Internet &amp; Network_files/Pic1en.gif" 
            width=474></P>
            <P align=center><B>Fig. 1.</B> Relationship between OSI-model, 
            UDP/IP-model and CTP/IP-model.</P>
            <P>The fact that CTP covers a number of layers, from transport layer 
            to application layer, proves that the area of its responsibility 
            starts from relatively low level and goes to a high one.</P>
            <H2>Internal World</H2>
            <P>The following discussion is carried out in the form of chaotic 
            descriptions of CTP basic concepts, their properties, and 
            functionality. Reading of all this is to form a solid idea on what 
            is going on inside. Such a strange form of statement was chosen, 
            because systematic discussion is to be started from several points 
            simultaneously, but this is, unfortunately, impossible.</P>
            <P>Debug abilities of CTP may help to better understand the sequence 
            of operations. There is a feature to place descriptions of all 
            actions and events to a given output stream.</P>
            <H3>Header</H3>
            <P>Each CTP-packet is represented, as usual, as header plus body 
            (data). The structure of the header is shown in table 1 (in the 
            order of appearance).</P>
            <P align=center>
            <TABLE align=center border=1>
              <TBODY>
              <TR>
                <TH>Name</TH>
                <TH>Size (in bits)</TH>
                <TH>Comment</TH></TR>
              <TR>
                <TD>Packet size</TD>
                <TD>16</TD>&lt;T</TR></TBODY></P></DIV></SPAN></TR></TBODY></TABLE></TR></TBODY></TABLE></BODY></HTML>
